@model Actas.Models.ActasModel
@{ ViewBag.Title = "Home Page"; }
<!doctype html>
<html lang="en">

<head>

    <meta charset='utf-8' />
    <meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1' />
    <link rel='apple-touch-icon' sizes='76x76' href=@Url.Content("~/Content/Imagenes/apple-icon.png") />
    <link rel='icon' type='image/png' href=@Url.Content("~/Content/Imagenes/favicon.png") />
    <title>Material Bootstrap Wizard by Creative Tim | Free Boostrap Wizard</title>

    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
    <meta name='viewport' content='width=device-width' />

    <!-- Canonical SEO -->
    <link rel='canonical' href='https://www.creative-tim.com/product/paper-bootstrap-wizard' />

    <meta name="keywords"
          content="wizard, bootstrap wizard, creative tim, long forms, 3 step wizard, sign up wizard, beautiful wizard, long forms wizard, wizard with validation, paper design, paper wizard bootstrap, bootstrap paper wizard">
    <meta name="description"
          content="Paper Bootstrap Wizard is a fully responsive wizard that is inspired by our famous Paper Kit  and comes with 3 useful examples and 5 colors.">

    <!-- Schema.org markup for Google+ -->
    <meta itemprop="name" content="Paper Bootstrap Wizard by Creative Tim">
    <meta itemprop="description"
          content="Paper Bootstrap Wizard is a fully responsive wizard that is inspired by our famous Paper Kit  and comes with 3 useful examples and 5 colors.">
    <meta itemprop="image" content="https://s3.amazonaws.com/creativetim_bucket/products/49/opt_pbw_thumbnail.jpg">

    <!-- Twitter Card data -->
    <meta name="twitter:card" content="summary_large_image">

    <meta name="twitter:title" content="Paper Bootstrap Wizard by Creative Tim">
    <meta name="twitter:description"
          content="Paper Bootstrap Wizard is a fully responsive wizard that is inspired by our famous Paper Kit  and comes with 3 useful examples and 5 colors.">

    <meta name="twitter:image" content="https://s3.amazonaws.com/creativetim_bucket/products/49/opt_pbw_thumbnail.jpg">

    <!-- Open Graph data -->
    <meta property="og:title" content="Paper Bootstrap Wizard by Creative Tim | Free Boostrap Wizard" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://demos.creative-tim.com/paper-bootstrap-wizard/wizard-list-place.html" />
    <meta property="og:image" content="https://s3.amazonaws.com/creativetim_bucket/products/49/opt_pbw_thumbnail.jpg" />
    <meta property="og:description"
          content="Paper Bootstrap Wizard is a fully responsive wizard that is inspired by our famous Paper Kit  and comes with 3 useful examples and 5 colors." />
    <meta property="og:site_name" content="Creative Tim" />
    <!-- CSS Files -->
    <link href=@Url.Content("~/Content/Estilos/bootstrap.min.css") rel='stylesheet' />
    <link href=@Url.Content("~/Content/Estilos/paper-bootstrap-wizard.css") rel="stylesheet" />

    <!-- CSS Just for demo purpose, don't include it in your project -->
    <link href=@Url.Content("~/Content/Estilos/demo.css") rel='stylesheet' />

    <!-- Fonts and Icons -->
    <link href='https://netdna.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.css' rel='stylesheet'>
    <link href='https://fonts.googleapis.com/css?family=Muli:400,300' rel='stylesheet' type='text/css'>
    <link href=@Url.Content("~/documentation/css/themify-icons.css") rel='stylesheet' />
    <link href=@Url.Content("~/documentation/css/themify-icons-demo.css") rel='stylesheet' />
    <!-- Google Tag Manager -->
    <!-- <script type="module">
        import { isNumeric } from "jquery";

        (function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({
                'gtm.start':
                    new Date().getTime(), event: 'gtm.js'
            }); var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                    'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-NKDMSK6');</script>
    End Google Tag Manager -->
    <style>
        .vertical-alignment-helper {
            display: table;
            height: 100%;
            width: 100%;
            pointer-events: none;
        }

        .vertical-align-center {
            /* To center vertically */
            display: table-cell;
            vertical-align: middle;
            pointer-events: none;
        }

        .modal-content {
            /* Bootstrap sets the size of the modal in the modal-dialog vertical-align-center class, we need to inherit it */
            width: inherit;
            max-width: inherit; /* For Bootstrap 4 - to avoid the modal window stretching
            full width */
            height: inherit;
            /* To center horizontally */
            margin: 0 auto;
            pointer-events: all;
        }
    </style>

</head>

<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript>
        <iframe src='https://www.googletagmanager.com/ns.html?id=GTM-NKDMSK6' height='0' width='0'
                style='display:none;visibility:hidden'></iframe>
    </noscript>
    <!-- End Google Tag Manager (noscript) -->
    <div class='image-container set-full-height'
         style="background-image: url(https://wallpaperaccess.com/full/666312.jpg);
             display: inline-table;">


        <!--   Big container   -->
        <div class='container'>

            <!--      Wizard container        -->
            <div class='wizard-container'>

                <!--modal auto-->
                <div id="autoModal" class="modal fade" role="dialog" style="display:none; margin:auto">
                    <div class="modal-dialog vertical-align-center">
                        <div class="modal-content" style="width:1500px">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                <h1 class="modal-title">Automotores en la Base de Datos</h1>
                            </div>
                            <div class="modal-body" style=" max-height: 500px; overflow-y: scroll; overflow-x: auto;">


                                <div id="divAutomotor">
                                </div>

                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>
                            </div>
                        </div>
                    </div>
                </div>


                <div class="card wizard-card" data-color="blue" wizardProfile">
                    <form action="RegistrarActa" id="formRegActa" method=" ">
                        <!--        You can switch " data-color="orange" "  with one of the next bright colors: "blue", "green", "orange", "red", "azure"          -->

                        <div class="wizard-header text-center">
                            <h3 class="wizard-title">Registro del Acta</h3>
                            <p class="category" style="font-size:20px">Complete todos los datos obligatorios.</p>
                        </div>
                        <!--Barra de arriba de navegación. Falta agregar imagenes de cada cosito-->
                        <div class="wizard-navigation">
                            <div class="progress-with-circle">
                                <div class="progress-bar" role="progressbar" aria-valuenow="1" aria-valuemin="1"
                                     aria-valuemax="4" style="width: 21%;"></div>
                            </div>
                            <ul>
                                <li>
                                    <a href="#localizacion" data-toggle="tab" class="disabled2">
                                        <div class="icon-circle">
                                            <i class="ti-map"></i>

                                        </div>
                                        Localización
                                    </a>
                                </li>
                                <li>
                                    <a href="#vehiculo" data-toggle="tab" class="disabled2">
                                        <div class="icon-circle">
                                            <i class="ti-car"></i>
                                        </div>
                                        Vehículo
                                    </a>
                                </li>
                                <li>
                                    <a href="#persona" data-toggle="tab" class="disabled2">
                                        <div class="icon-circle">
                                            <i class="ti-user"></i>
                                        </div>
                                        Persona
                                    </a>
                                </li>
                                <li>
                                    <a href="#infraccion" data-toggle="tab" class="disabled2">
                                        <div class="icon-circle">
                                            <i class="ti-book"></i>
                                        </div>
                                        Infracción
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <div class="tab-content">
                            <!--Los tab pane dividen secciones. Inicio localizacion-->
                            <div class="tab-pane" id="localizacion">



                             


                                <!--codigo nuevo-->

                                <div class="row">
                                    <h1 class="info-text">
                                        Indique el número de acta y el inspector que
                                        corresponda
                                    </h1>

                                    <div class="col-sm-12">


                                        <!--Modal para inspector-->



                                        <label>Inspector</label>
                                        <div class="form-inline mr-sm-8">
                                            <input class="form-control mr-sm-8" style="width:500px" name="inspectorID"
                                                   id="inspectorID" value="" type="text" readonly="readonly"
                                                   placeholder="Inspector" title=" Por favor, seleccione un inspector de la lista" required>
                                        </div>
                                        <br>
                                        <button class="btn btn-outline-success my-2 my-sm-0" id="btnBuscarInspector"
                                                type="button">
                                            Seleccionar
                                            Inspector
                                        </button>
                                        <br>
                                        <div class="form-inline">
                                            <br>
                                            <div id="inspectorModal" class="modal fade" role="dialog" style="display: none; width: 1000px; margin: auto;">
                                                <div class="vertical-alignment-helper">
                                                    <div class="modal-dialog vertical-align-center" style="width: max-content;">
                                                        <div class="modal-content" style="display:table ">
                                                            <div class="modal-header">
                                                                <button type="button" class="close" data-dismiss="modal">
                                                                    &times;
                                                                </button>
                                                                <h4 class="modal-title">Inspectores</h4>
                                                            </div>
                                                            <div class="modal-body" style=" max-height: 500px; overflow-y: scroll; overflow-x: auto;">

                                                                <div id="divInspector">
                                                                </div>

                                                            </div>
                                                            <div class="modal-footer">
                                                                <button type="button" class="btn btn-default"
                                                                        data-dismiss="modal">
                                                                    Cerrar
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!--Verificar acta-->



                                    </div>

                                    <div class="col-sm-12">


                                        <label>Número de Acta </label>

                                        <div class="form-inline mr-sm-8">

                                            <input class="form-control mr-sm-8" style="width:500px" id="verActa"
                                                   placeholder="Nro Acta" aria-label="acta" type="number" min="1"
                                                   maxlength="5" title=" Por favor, ingrese un número de acta" required onkeypress="return isNumberKey(event);">
                                            <div id="divVerificar"></div>



                                        </div>
                                        <br> <br>


                                    </div>

                                    <!--acá tiene que empezar el mapa-->
                                    <div class="form-inline">

                                        <script src='https://api.mapbox.com/mapbox-gl-js/v2.0.0/mapbox-gl.js'></script>
                                        <link href='https://api.mapbox.com/mapbox-gl-js/v2.0.0/mapbox-gl.css'
                                              rel='stylesheet' />
                                        <div id='map' style='width: 500px; height: 500px;'></div>
                                        <script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.5.1/mapbox-gl-geocoder.min.js"></script>
                                        <link rel="stylesheet"
                                              href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.5.1/mapbox-gl-geocoder.css"
                                              type="text/css" />
                                        <!-- Promise polyfill script required to use Mapbox GL Geocoder in IE 11 -->
                                        <script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.min.js"></script>
                                        <script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.auto.min.js"></script>
                                        <div id="map"></div>

                                        <script>
                                            mapboxgl.accessToken = 'pk.eyJ1Ijoic2Flbm5hIiwiYSI6ImNramtjbWZxcTRldmIyeHA5bm5zYmttbzMifQ.n813MfpZt7yhyRZpJLDcFg';
                                            var map = new mapboxgl.Map({
                                                container: 'map',
                                                style: 'mapbox://styles/mapbox/streets-v11',
                                                center: [-64.1810500, -31.4135000],
                                                zoom: 13
                                            });

                                            /* given a query in the form "lng, lat" or "lat, lng" returns the matching
                                            * geographic coordinate(s) as search results in carmen geojson format,
                                            * https://github.com/mapbox/carmen/blob/master/carmen-geojson.md
                                            */
                                            var coordinatesGeocoder = function (query) {
                                                // match anything which looks like a decimal degrees coordinate pair
                                                var matches = query.match(
                                                    /^[ ]*(?:Lat: )?(-?\d+\.?\d*)[, ]+(?:Lng: )?(-?\d+\.?\d*)[ ]*$/i
                                                );
                                                if (!matches) {
                                                    return null;
                                                }

                                                function coordinateFeature(lng, lat) {
                                                    return {
                                                        center: [lng, lat],
                                                        geometry: {
                                                            type: 'Point',
                                                            coordinates: [lng, lat]
                                                        },
                                                        place_name: 'Lat: ' + lat + ' Lng: ' + lng,
                                                        place_type: ['coordinate'],
                                                        properties: {},
                                                        type: 'Feature'
                                                    };
                                                }

                                                var coord1 = Number(matches[1]);
                                                var coord2 = Number(matches[2]);
                                                var geocodes = [];

                                                if (coord1 < -90 || coord1 > 90) {
                                                    // must be lng, lat
                                                    geocodes.push(coordinateFeature(coord1, coord2));
                                                }

                                                if (coord2 < -90 || coord2 > 90) {
                                                    // must be lat, lng
                                                    geocodes.push(coordinateFeature(coord2, coord1));
                                                }

                                                if (geocodes.length === 0) {
                                                    // else could be either lng, lat or lat, lng
                                                    geocodes.push(coordinateFeature(coord1, coord2));
                                                    geocodes.push(coordinateFeature(coord2, coord1));
                                                }

                                                return geocodes;
                                            };

                                            map.addControl(
                                                new MapboxGeocoder({
                                                    accessToken: mapboxgl.accessToken,
                                                    localGeocoder: coordinatesGeocoder,
                                                    zoom: 4,
                                                    placeholder: 'indique coordenadas',
                                                    mapboxgl: mapboxgl
                                                })
                                            );
                                        </script>

                                    </div>
                                    <br>
                                    <!--acá termina mapa-->
                                    <div class="col-sm-12">
                                        <h1 class="info-text">
                                            Indique los datos de localización de la infracción
                                        </h1>
                                    </div>
                                    <br>
                                    <br>
                                    <div class="input-group">

                                        <div class="form-inline">
                                            <label class="col-sm-8 control-label">
                                                Calle y altura donde ocurrió la Infracción
                                            </label>
                                            <input type="text" class="form-control" id="calleInf" name="calleInf"
                                                   maxlength="100" title=" Por favor, ingrese una localización válida" required onkeypress="return noCaracEsp(event);">


                                        </div>
                                        <br>
                                        <div class="form-inline">
                                            <label class="col-sm-8 control-label">
                                                Fecha en que ocurrió la
                                                Infracción
                                            </label>
                                            <input type="date" class="form-control" title=" Por favor, ingrese una fecha válida que no supere la actual" required id="fechaInf" name="fechaInf">

                                        </div>
                                        <br>
                                        <div class="form-inline">
                                            <label class="col-sm-8 control-label">
                                                Hora en que ocurrió la
                                                Infracción
                                            </label>
                                            <input type="time" max="" class="form-control" title=" Por favor, ingrese una hora válida" required id="horaInf" name="horaInf">

                                        </div><br>
                                        <div class="form-inline">
                                            <label class="col-sm-8 control-label">Observaciones (Opcional)</label>
                                            <input type="text" class="form-control" id="observacionesInf"
                                                   onkeypress="return noCaracEsp(event);" value=" " maxlength="100">

                                        </div><br>
                                    </div>



                                </div>





                            </div>
                            <!--Los tab pane dividen secciones. fin localizacion inicio vehiculo-->
                            <div class="tab-pane" id="vehiculo">
                                <h1 class="info-text"> Ingrese los datos del vehículo involucrado en la infracción</h1>
                                <h1 class="info-text"> Si la patente ya existe, búsquela desde la base de datos </h1>
                                <div class="row">
                                    <div class="col-sm-8 col-sm-offset-2">
                                        <div class="input-group">
                                            <label class="col-sm-6 control-label">Patente</label>
                                            <button class="btn btn-outline-success my-2 my-sm-0" style="margin-bottom:20px; margin-left:20px;" id="btnBuscarAuto"
                                                    type="button">
                                                Buscar
                                            </button>
                                            <div class="form-inline">
                                                <input class="form-control mr-sm-2" minlength="6" title=" Por favor, ingrese una patente" required name="patenteAuto"
                                                       id="patenteAutoID" value="" type="text" pattern="[a-zA-Z0-9]*"
                                                       placeholder="Patente del vehículo" maxlength="50"
                                                       onkeypress="return noCaracEsp(event);">

                                                <div id="divVerificarPat"></div>
                                            </div>

                                            <label class="col-sm-6 control-label">Tipo</label>
                                            <div class="form-inline">
                                                <input class="form-control mr-sm-2" title=" Por favor, ingrese un tipo de vehículo"required name="tipoAuto" id="tipoAuto"
                                                       value="" type="text" placeholder="Tipo de vehículo" maxlength="50"
                                                       onkeypress="return letras(event);">

                                            </div>
                                            <label class="col-sm-6 control-label">Marca</label>
                                            <div class="form-inline">
                                                <input class="form-control mr-sm-2" name="marcaAuto" title=" Por favor, ingrese la marca del vehículo" required id="marcaAuto"
                                                       value="" type="text" placeholder="Marca del vehículo" maxlength="50"
                                                       onkeypress="return noCaracEsp(event);">

                                            </div>
                                            <label class="col-sm-6 control-label">Modelo/Año</label>
                                            <div class="form-inline">
                                                <input class="form-control mr-sm-2" required name="modeloAuto" title=" Por favor, ingrese el modelo y/o el año del vehículo" id="modeloAuto"
                                                       value="" type="text" placeholder="Modelo del vehículo"
                                                       maxlength="50" onkeypress="return noCaracEsp(event);">

                                            </div>

                                            <label class="col-sm-6 control-label">Color</label>
                                            <div class="form-inline">
                                                <input class="form-control mr-sm-2" required name="colorAuto" title=" Por favor, ingrese el color del vehículo" id="colorAuto"
                                                       value="" type="text" placeholder="Color del vehículo" maxlength="50"
                                                       onkeypress="return letras(event);">

                                            </div>

                                        </div>
                                        <button type="button" class="btn btn-fill btn-warning" id="btnLimpiarAuto"
                                                style="display: none; border-radius:20px">
                                            Limpiar datos del
                                            Vehículo
                                        </button>

                                    </div>
                                </div>
                            </div>

                            <!--Los tab pane dividen secciones. fin vehiculo inicio persona-->
                            <div class="tab-pane" id="persona">
                                <div class="row">
                                    <div class="col-sm-12">
                                        <h1 class="info-text">
                                            Datos de las personas involucradas
                                            con la infracción
                                        </h1>

                                    </div>
                                    <div class="col-sm-12">

                                        <h1>
                                            Para cargar los datos de una persona, primero busquela en la base de datos.
                                            Si no existe, cree una nueva.
                                        </h1>
                                    </div>

                                    <div id="tablePersonasActa">

                                    </div>
                                    <div id="tablePersonasTActa">
                                    </div>


                                    <br>
                                    <div class="form-inline">
                                        <div class="input-group">
                                            <button style="        margin-left: 20px;
        color: black;
        background-color: #5f9ea0a8;
" class="btn btn-outline-success" id="btnVerPerBD" type="button"> Cargar persona desde la base de datos</button> <button style=" margin-left: 20px;
        color: black;
        background-color: #5f9ea0a8;
" class="btn btn-outline-success" id="btnCrearPer" type="button">Crear una nueva persona</button>






                                        </div>
                                    </div>




                                    <div id="BDpersonasModal" class="modal fade" role="dialog" style="display:none; margin:auto">
                                        <div class="modal-dialog vertical-align-center">
                                            <div class="modal-content" style="width:1500px">
                                                <div class="modal-header">
                                                    <button type="button" class="close" data-dismiss="modal">
                                                        &times;
                                                    </button>
                                                    <h4 class="modal-title">Personas en la base de datos</h4>
                                                </div>
                                                <div class="modal-body" style=" max-height: 500px; overflow-y: scroll; overflow-x: auto;">


                                                    <div id="divPersonasBD">
                                                    </div>


                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                                        Cerrar
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12">
                                        <h1>
                                            Se corroborará que haya al menos un titular y un infractor. Por favor, presione  <button type="button" class="btn-warning" id="botonverificarPersonas" style="border-radius: 15px; background-color: #9bc0a9; border-color: #33484f; padding:8px; color: black;font-weight: bold;">Verificar</button><input type="text" required title=" Debe verificar para continuar" readonly="readonly" id="verifResp" style="border: none; height: 1px; width: 1px;" name="verifResp" value="">  </h1>
                                        
</div>
                                        <br>

                                        <br>


                                    </div>
                                </div>
                            <br>
                            <!--Los tab pane dividen secciones. fin persona inicio infracciones-->

                            <div class="tab-pane" id="infraccion">
                                <div class="input-group">
                                    <div class="row">
                                        <h1 class="info-text"> Ingrese el o los códigos de la Infracción .</h1>
                                        <div class="col-sm-12">

                                            <div class="form-inline">
                                                <label>Código de Infracción </label>

                                                <button class="btn btn-outline-success my-2 my-sm-0"
                                                        id="btnBuscarInfracc" type="button">
                                                    Buscar
                                                </button>
                                            </div>


                                            <div id="codInfraccModal" class="modal fade" role="dialog" style="display:none; margin:auto;">
                                                <div class="modal-dialog vertical-align-center">
                                                    <div class="modal-content" style="width:1500px">
                                                        <div class="modal-header">
                                                            <button type="button" class="close" data-dismiss="modal">
                                                                &times;
                                                            </button>
                                                            <h1 class="modal-title">Códigos de Infracciones</h1>
                                                        </div>
                                                        <div class="modal-body" style=" max-height: 500px; overflow-y: scroll; overflow-x: auto;">


                                                            <div id="divInfraccion">
                                                            </div>


                                                        </div>
                                                        <div class="modal-footer">
                                                            <button type="button" class="btn btn-default"
                                                                    data-dismiss="modal">
                                                                Cerrar
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div id="tableSelecInfracciones"></div>
                                            <h1 class="info-text"> Medidas Accesorias (Marque si corresponde)</h1>
                                            <div class="form-check">
                                                <input class="form-check-input retieneVeh" type="checkbox" checked=""
                                                       value="" id="retieneVehiculo">
                                                <label class="form-check-label" for="flexCheckDefault">
                                                    Se retiene el vehículo
                                                </label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input retieneLic" type="checkbox" value=""
                                                       checked="" id="retieneLicencia">
                                                <label class="form-check-label" for="flexCheckDefault">
                                                    Se retiene licencia
                                                </label>
                                            </div>
                                            <input type="text" required readonly="readonly" id="verifInfracc" title=" Por favor, ingrese al menos una infracción" style="display:none" name="verifInfracc" value="" >
                                        </div>


                                    </div>
                                </div>


                            </div>


                            <!--Los tab pane dividen secciones. fin infracciones-->

                            <div style="display:none" id="formCargaActa">


                            </div>

                        </div>

                        <!--modal resp legal-->
                        <div id="personaModal" class="modal fade" role="dialog" style="display:none; margin:auto;">
                            <div class="modal-dialog vertical-align-center">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                        <h1 class="modal-title">Agregar/Cambiar responsabilidad legal </h1>
                                    </div>
                                    <div class="modal-body">

                                        <div class="form-check">
                                            <input class="form-check-input esTitular" type="checkbox" value=" "
                                                   id="defaultCheck1">
                                            <label class="form-check-label" for="defaultCheck1">
                                                Es titular
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input esInfractor" type="checkbox" value=""
                                                   id="defaultCheck1">
                                            <label class="form-check-label" for="defaultCheck1">
                                                Es infractor
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input esRespCivil" type="checkbox" value=""
                                                   id="defaultCheck1">
                                            <label class="form-check-label" for="defaultCheck1">
                                                Es responsable civil
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input esTutorLeg" type="checkbox" value=""
                                                   id="defaultCheck1">
                                            <label class="form-check-label" for="defaultCheck1">
                                                Es tutor legal
                                            </label>
                                        </div>
                                        <div id="datos_adicionales" style="display:none">
                                            <input id="NumActaTemp" name="NumActaTemp" value="">
                                            <input id="idPersTempM" name="idPersTempM" value="">
                                            <input id="eliminarDisponibleAB" name="eliminarDisponibleAB" value="">

                                        </div>

                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-default" id="btnGuardarPersonaResp"
                                                data-dismiss="modal">
                                            Guardar
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>



                        <div class="wizard-footer">
                            <!--Botones-->
                            <div class="pull-right">
                                <input type='button' class='btn btn-next btn-fill btn-info btn-wd' name='Siguiente'
                                       value='Siguiente' id="nextbtn" />
                                <input type='button' class='btn btn-finish btn-fill btn-info btn-wd' name='Registrar'
                                       value='Registrar' id="btnRegistro" />
                            </div>

                        </div>
                        <div style="display:inline">
                            <input type='button' id="reset" style="position: static; margin-left: 20px; border-radius: 20px"
                                   class='btn btn-fill btn-danger btn-wd' name='Nuevo'
                                   value='Nuevo' />
                        </div>
                        <div class="pull-left">
                            <input type='button' class='btn btn-previous btn-default btn-wd' style="margin-left:20px;" name='Anterior'
                                   value='Anterior' />
                        </div>
                    </form>



                    <div class="clearfix"></div>

                </div>


                <!-- wizard container -->
                <!--Modal nueva persona-->
                <div id="crearPerModal" class="modal fade" role="dialog" style="display:none;margin:auto;">
                    <div class="modal-dialog vertical-align-center">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                <h1 class="modal-title">Crear nueva persona</h1>
                            </div>
                            <div class="modal-body">


                                <div id="divCrearPer">
                                </div>

                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>
                            </div>
                        </div>
                    </div>
                </div>


                <div id="modificarPerModal" class="modal fade" role="dialog" style="display:none; margin:auto;">
                    <div class="modal-dialog vertical-align-center">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                <h4 class="modal-title">Modificar datos</h4>
                            </div>
                            <div class="modal-body">


                                <div id="divModificarPer">
                                </div>

                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="camposAuxiliares" style="display:none">
                    <input id="NroActaTemp_AUX" type="text">
                </div>

            </div> <!--  big container -->

        </div>
    </div>




    <!--   Core JS Files   -->
    <script src=@Url.Content("~/Scripts/jquery-2.2.4.min.js") type="text/javascript"></script>
    <script src=@Url.Content("~/Scripts/jquery.validate.min.js")></script>
    <script src=@Url.Content("~/Scripts/jquery.unobtrusive-ajax.min.js") type='text/javascript'></script>
    <script src=@Url.Content("~/Scripts2/jquery-ui.min.js")></script>
    <script src=@Url.Content("~/Scripts/jquery.bootstrap.wizard.js") type="text/javascript"></script>
    <script src=@Url.Content("~/Scripts2/jquery.bootstrap.js") type='text/javascript'></script>
    <script src=@Url.Content("~/Scripts/bootstrap.min.js") type="text/javascript"></script>

    <!--  Plugin for the Wizard -->
    <script src="~/Scripts/demo.js" type="text/javascript"></script>
    <script src='~/Scripts/Scripts.js'></script>
    <script src="~/Scripts/paper-bootstrap-wizard.js" type="text/javascript"></script>



    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery.maskedinput/1.4.1/jquery.maskedinput.min.js'
            integrity='sha512-d4KkQohk+HswGs6A1d6Gak6Bb9rMWtxjOa0IiY49Q3TeFd5xAzjWXDCBW9RS7m86FQ4RzM2BdHmdJnnKRYknxw=='
            crossorigin='anonymous'></script>

    <script>
        $(document).ready(function () {
            $("#btnRegistro").click(function (e) {

                var objInput = {};
                $("#formCargaActa > input").each((index, elem) => {
                    var key = elem.id;
                    objInput[key] = elem.value;
                });
                var retieneVehiculo = $('#retieneVehiculo').prop("checked") ? 1 : 0;;
                var retieneLicencia = $('#retieneLicencia').prop("checked") ? 1 : 0;;
                objInput['retieneVehiculo_form'] = retieneVehiculo;
                objInput['retieneLicencia_form'] = retieneLicencia;
                console.log("datos:");
                console.log(objInput);

                $.ajax({
                    url: "@(Url.Action("GuardarFormulario", "Registro"))",
                    type: 'POST',
                    data: JSON.stringify(objInput),
                    contentType: 'application/json; charset=utf-8',
                    success: function (data) {
                        var respuesta = $.parseJSON(data);
                        alert(respuesta.Message);
                        if (respuesta.success) {
                            var numeroActa = $('#numeroActa_form').val();
                            var url = '@Url.Action("ReportePDF", "Registro", new { nroActa = "nro_Acta" })';
                            var win = window.open(url.replace('nro_Acta', numeroActa), '_blank');
                            alert('PDF descargado exitosamente');
                            if (win) {
                                //Browser has allowed it to be opened
                                win.focus();
                            } else {
                                //Browser has blocked it
                                alert('Por favor, habilite las ventanas emergentes para este sitio');
                            }
                            window.location.reload(true);
                     



                        }
             

                    },
                    error: function () {
                        alert("error");
                    }
                });
            });



            //debería haber alguna alerta de que al menos se necesita un tit y un infractor para registrar/continuar
            $('#btnGuardarPersonaResp').click(function (e) {
                console.log('Numero Acta: ' + $('#NumActaTemp').val());
                console.log('Id Persona: ' + $('#idPersTempM').val());
                console.log('Es Titular: ' + $('.esTitular').prop("checked"));
                console.log('Es Infractor: ' + $('.esInfractor').prop("checked"));
                console.log('Es Resp Civil: ' + $('.esRespCivil').prop("checked"));
                console.log('Es Tutor Legal: ' + $('.esTutorLeg').prop("checked"));
                var eliminarDisponible = $("#eliminarDisponibleAB").val();
                var NumActaTemp = $('#NumActaTemp').val();
                var idPersTempM = $('#idPersTempM').val();
                var esTitular = $('.esTitular').prop("checked") ? 1 : 0;
                var esInfractor = $('.esInfractor').prop("checked") ? 1 : 0;
                var esRespCivil = $('.esRespCivil').prop("checked") ? 1 : 0;
                var esTutorLeg = $('.esTutorLeg').prop("checked") ? 1 : 0;

                var responsabilidadesPersona = [esTitular, esInfractor, esRespCivil, esTutorLeg];
                var data = [];
                console.log(responsabilidadesPersona);
                responsabilidadesPersona.forEach((elem, index) => {
                    if (elem != 0) {
                        var indexR = index + 1;
                        data.push({
                            'numeroActaTemp': NumActaTemp,
                            'id_personasTemp': idPersTempM,
                            'respLegalTemp': indexR,
                            'eliminarDisponible': eliminarDisponible
                        });
                    }

                });
                console.log("RealizarGuardado..");
                console.log(data);
                $.ajax({
                    url: "@(Url.Action("GuardarResponsabilidadesPersonasTemp", "Validaciones"))",
                    type: 'POST',
                    data: JSON.stringify(data),
                    contentType: 'application/json; charset=utf-8',
                    success: function (result) {
                        var respuesta = $.parseJSON(result);
                        alert(respuesta.Message);

                    },
                    error: function () {
                        alert("error");
                    }
                });





            });
        });
    </script>
    
</body>

</html>
